<!DOCTYPE html>
<html>
<head>  
    <title>VR-FinalProject</title>
    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-event-set-component@^4.0.0/dist/aframe-event-set-component.min.js"></script>
  <!--  <script src="https://cdn.jsdelivr.net/gh/n5ro/aframe-physics-system@v$npm_package_version/dist/aframe-physics-system.min.js"></script> -->
   <!-- <script>
    AFRAME.registerComponent("#Trashcan",{
        init:function(){
            let button = this.el;
            button.addEventListener("click", function(){
            let scene = document.querySelector
            let newBox = document.createElement("a-sphere");
             
            newBox.setAttribute("color", "yellow");
            newBox.setAttribute("scale", "1 1 1");
            
            let newX = Math.random()*2-1;
            newBox.setAttribute("position", "$(newX) 2 -3");
            
            newBox.setAttribute("dynamic-body", "shape:sphere")
            
            scene.appendChild(newBox);
            });                      
        },
    });
    </script> -->
   <!-- <script>
        AFRAME.registerComponent('play-pause', {
            init: function() {
                var myVideo = document.querySelector('#video');
                var videoControls = document.querySelector('#videoControls');
                this.el.addEventListener('click', function() {
                    if (myVideo.paused) {
                        myVideo.play();
                        videoControls.setAttribute('src', '#pause');
                    } else {
                        myVideo.pause();
                        videoControls.setAttribute('src', '#play');
                    }    
                });
            }
        });
                                
    </script> 
    <script src="https://unpkg.com/aframe-animation-component@^4.1.2/dist/aframe-animation-component.min.js"></script> -->
    <script>
    function objectToPos(posObject){
        return posObject.x + "" + posObject.y + "" +posObject.z
    } 
    function clickHandler(target){
        let camera = document.querySelector('#camera')
        
        let targetPos = objectToPos(target.getAttribute('position'))
        let cameraPos = objectToPos(camera.getAttribute('position'))
        
        camera.setAttribute('animation', 'property: position; from:-7 2 -10; to: 1000 1000 1000; dur:500')
    }
        
        function registerHandlerForClick(target){
            target.addEventListener("click", function(){
                clickHandler(target)
            })
        }
        
    function setupHandlers(){
        let targetList = document.querySelectorAll('.moveTarget')
        let index = 0
        while(index < targetList.length){
            registerHandlerForClick(targetList[ index ])
            index = index +1
        }
        
    }
        window.onload = setupHandlers
    </script>>
</head>
    
  <body>
    <a-scene physics="debug:true">
        
        <a-camera id="camera" position="-7 2 5"
                  ><a-entity
            cursor="rayOrigin:mouse;fuse: true; fuseTimeout: 10000"
            ></a-entity></a-camera>
        
        <a-assets>
            <img id="city" src="D:/city/city.jpg"></a-assets>
      <!--  <a-assets>
            <img id="play" src="D:/playbutton/playbutton.jpg">
            <img id="pause" src="D:/pausebutton/pausebutton.jpg">
            <video id="edgerunner" src="D:/EdgeRunner/1.mp4"></video>
        </a-assets> -->
        
         <a-asset-item id="SpaceSky" src="D:/SpaceSky/scene.gltf"></a-asset-item>
        
        <a-asset-item id="Moon" src="D:/Moon/scene.gltf"></a-asset-item>
        <a-asset-item id="Portal" src="D:/Portal/scene.gltf"></a-asset-item><a-asset-item id="Sun" src="D:/Sun/scene.gltf"></a-asset-item><a-asset-item id="Earth" src="D:/Earth/scene.gltf"></a-asset-item>

        
        <a-asset-item id="Apartment" src="D:/Apartment/scene.gltf"></a-asset-item>
         <a-asset-item id="Armor" src="D:/Armor/scene.gltf"></a-asset-item>
        <a-asset-item id="floor" src="D:/floor/scene.gltf"></a-asset-item>
        <a-asset-item id="Desk" src="D:/Desk/scene.gltf"></a-asset-item>
        <a-asset-item id="Chair" src="D:/Chair/scene.gltf"></a-asset-item>
        
        <a-asset-item id="Crate" src="D:/Crate/scene.gltf"></a-asset-item>
        
        <a-asset-item id="Door" src="D:/Door/scene.gltf"></a-asset-item>
        
        <a-asset-item id="Glove" src="D:/Glove/scene.gltf"></a-asset-item>
        
        <a-asset-item id="Hmg" src="D:/Hmg/scene.gltf"></a-asset-item>
        
        <a-asset-item id="TV" src="D:/TV/scene.gltf"></a-asset-item>
        <a-asset-item id="Sofa" src="D:/Sofa/scene.gltf"></a-asset-item>
         <a-asset-item id="TVbench" src="D:/TVbench/scene.gltf"></a-asset-item>
         <a-asset-item id="Motorbike" src="D:/Motorbike/scene.gltf"></a-asset-item>
        <a-asset-item id="WhiteWall" src="D:/WhiteWall/scene.gltf"></a-asset-item>
       
        <a-asset-item id="TabletPc" src="D:/TabletPc/scene.gltf"></a-asset-item>
        
        <a-asset-item id="Trash" src="D:/Trash/scene.gltf"></a-asset-item>
        
        <a-asset-item id="Trashcan" src="D:/Trashcan/scene.gltf"></a-asset-item>
        

        <a-entity gltf-model="#Apartment"
                  position="0 0 0"
                  scale="100 100 100"
                  static-body></a-entity>
        <a-entity gltf-model="#Chair"
                  position="7 0 8.5"
                  scale="0.01 0.01 0.01"
                  rotation="0 0 0"
              ></a-entity>
        <a-entity gltf-model="#Desk"
                  position="7 0 9"
                  scale="0.3 0.3 0.3"
                  rotation="0 180 0"
                  sound="src:https://cdn.glitch.me/5243e6b1-74c1-41f0-9687-e081cbeb68f5/Cyberpunk%20-%20I%20Really%20Want%20to%20Stay%20at%20Your%20House_hires.flac?v=1671158231925; on:click">
              </a-entity>
      <!--  <a-entity gltf-model="#Door"
                  position="-10.8 1 -10.5"
                  scale="0.02 0.02 0.02"
                  rotation="0 90 0" 
              ></a-entity> -->
        <a-entity gltf-model="#Crate"
                  position="9 0.6 10"
                  scale="0.5 0.5 0.5"
                  rotation="0 -90 0"
              ></a-entity>
        
        <a-entity gltf-model="#Hmg"
                  position="7 4 10"
                  scale="0.1 0.1 0.1"
                  rotation="0 90 0"   
                  animation="property: scale; from:0.1 0.1 0.1; to:0.12 0.12 0.12 loop:false; startEvents:mouseenter;dur:500"
                  animation__2="property: scale; from:0.12 0.12 0.12; to:0.1 0.1 0.1 loop:false; startEvents:mouseleave;dur:500"
              ></a-entity>
        <a-entity gltf-model="#Armor"
                  position="4.5 0.5 10"
                  scale="2 2 2"
                  rotation="0 180 0"
                  animation="property: scale; from:2 2 2; to:2.2 2.2 2.2 loop:false; startEvents:mouseenter;dur:500"
                  animation__2="property: scale; from:2.2 2.2 2.2; to:2 2 2 loop:false; startEvents:mouseleave;dur:500"
              ></a-entity>
      <a-entity gltf-model="#WhiteWall"
                  position="7 6 11"
                  scale="0.2 0.2 0.2"
                  rotation="0 33.5 0"
              ></a-entity>
        <a-entity gltf-model="#TabletPc"
                  position="0 0 0"
                  scale="100 100 100"
              ></a-entity>
        <a-entity gltf-model="#Trash"
                  position="1 0.5 10"
                  scale="22 22 22"
                  animation="property: position; from:1 0.5 10; to:-1 2 10 loop:false; startEvents:click;dur:500"
                  animation__2="property: scale; from:22 22 22; to:1 1 1 loop:false; startEvents:click;dur:500"
              ></a-entity>
        <a-entity gltf-model="#Trashcan"
                  position="-1 0.4 10"
                  scale="2 2 2"
              ></a-entity> 
        <a-entity gltf-model="#TV"
                  position="3 2.5 -10"
                  scale="2 2 2"
              ></a-entity> 
        <a-entity gltf-model="#Sofa"
                  position="8 0 -20"
                  scale="1.5 1.5 1.5"
              ></a-entity> 
        <a-entity gltf-model="#TVbench"
                  position="3 0 -10"
                  scale="1 1 1"
                  rotation="0 90 0"
              ></a-entity> 
        <a-entity gltf-model="#Motorbike"
                  position="-8 1 -10"
                  scale="1.8 1.8 1.8"
                  rotation="0 90 0"
                  sound="src:https://cdn.glitch.global/a21a38e9-2e6c-4273-b271-514a66ad5afe/motor-sound.mp3?v=1670562263974; on:click"
              ></a-entity> 
        <a-entity gltf-model="#floor"
                  position="55 -0.2 0"
                  scale="0.1 0.1 0.1"
                  rotation="0 0 0"
             ></a-entity> 
            
            <a-image id="city" src="#city" position="45 -1 -8" scale="500 500 500" rotation="0 90 0"></a-image>
        <a-entity id="text" text="value:Fly to the Space→→!"; color="#000" position="0.25 2.5 -10.2" scale="8 8 8" rotation="0 180 0" class="moveTarget"
                   ></a-entity>
        
         
        <a-entity gltf-model="#SpaceSky"
              position="1001 1001 1001"
              scale="20 20 20"></a-entity>
        <a-entity gltf-model="#Portal"
                  position="-8 2 -6"
                  scale="0.6 0.6 0.6"
                  rotation="0 0 0"
                  class="moveTarget"
             ></a-entity> 
        <a-entity gltf-model="#Sun"
                  position="1000 1300 1000"
                  scale="10 10 10"
                  rotation="0 0 0"
             ></a-entity> 
        <a-entity gltf-model="#Earth"
                  position="1000 1020 1000"
                  scale="0.03 0.03 0.03"
                  rotation="0 0 0"
                  sound="src:https://cdn.glitch.me/5243e6b1-74c1-41f0-9687-e081cbeb68f5/%E6%96%B0%E4%BA%95%E6%AD%A3%E4%BA%BA%20(%E3%81%82%E3%82%89%E3%81%84%20%E3%81%BE%E3%81%95%E3%81%B2%E3%81%A8)%20-%20%E3%82%A2%E3%83%8B%E3%83%A1%E3%81%98%E3%82%83%E3%81%AA%E3%81%84%20-%E5%A4%A2%E3%82%92%E5%BF%98%E3%82%8C%E3%81%9F%E5%8F%A4%E3%81%84%E5%9C%B0%E7%90%83%E4%BA%BA%E3%82%88-%20(%E4%B8%8D%E6%98%AF%E5%8A%A8%E7%94%BB%20-%E8%BF%99%E6%98%AF%E5%BF%98%E4%BA%86%E6%A2%A6%E6%83%B3%E7%9A%84%E5%8F%A4%E8%80%81%E5%9C%B0%E7%90%83%E4%BA%BA-).flac?v=1671158024646; on:click"
                  animation="property: rotation; to: 0 360 0; loop: true; dur: 100000">
            <a-entity gltf-model="#Moon"
              position="150 -150 0"
              scale="10 10 10"
                animation="property: rotation; to: 0 -360 0; loop: true; dur: 100000"
                animation__2="property: position; to:0 -150 0; loop: true; dur=10000">
            </a-entity>
            </a-entity> 
        
      <!--  <a-video src="#edgerunner" width="8" height="4.5" position="3 2 -10"
                 autoplay 
                 loop="true"> 
           <!-- <a-image id="videoControls" src="#play" position="1 -1 -8" scale="1 1 1" rotation="0 180 0"></a-image> 
        </a-video> -->



        

        
    </a-scene>
  </body>
</html>